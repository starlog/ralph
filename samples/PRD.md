# PRD: 커맨드라인 계산기 (CLI Calculator)

## 개요

사칙연산(+, -, *, /)을 지원하는 Python 기반 커맨드라인 계산기 도구.
사용자가 공백 없이 수식을 입력해도 숫자와 연산자를 자동으로 분리하여 계산한다.

## 목표

- 간단하고 빠른 커맨드라인 계산 도구 제공
- 직관적인 수식 입력 지원 (예: `3+2`, `10*5`, `100/3`)
- 별도의 가상환경(venv, conda) 없이 순수 Python으로 실행

## 기술 스택

- **언어**: Python 3 (표준 라이브러리만 사용)
- **환경**: 가상환경 없음, 시스템 Python으로 직접 실행

## 기능 요구사항

### 1. 기본 사칙연산

| 연산자 | 설명 | 예시 |
|--------|------|------|
| `+` | 덧셈 | `3+2` → `5` |
| `-` | 뺄셈 | `10-3` → `7` |
| `*` | 곱셈 | `4*5` → `20` |
| `/` | 나눗셈 | `10/3` → `3.3333...` |

### 2. 입력 파싱

- 공백 없는 입력 지원: `3+2`, `10*5`
- 공백 있는 입력도 지원: `3 + 2`, `10 * 5`
- 소수점 숫자 지원: `3.5+2.1`
- 음수 지원: `-3+2`, `5*-3`

### 3. 실행 방식

- 커맨드라인 인자로 수식 전달: `python main.py "3+2"`
- 대화형(REPL) 모드: `python main.py` 실행 후 반복 입력
- REPL 모드에서 `quit` 또는 `exit` 입력 시 종료

### 4. 에러 처리

- 0으로 나누기 시 에러 메시지 출력
- 잘못된 수식 입력 시 에러 메시지 출력
- 지원하지 않는 연산자 사용 시 안내 메시지 출력

## 비기능 요구사항

- 외부 패키지 의존성 없음 (표준 라이브러리만 사용)
- conda, venv 등 가상환경 불필요
- Python 3.6 이상에서 동작

## 사용 예시

```bash
# 인자 모드
$ python main.py "3+2"
5

$ python main.py "10/3"
3.3333333333333335

# REPL 모드
$ python main.py
calc> 3+2
5
calc> 10*5
50
calc> 100/3
33.3333333333333335
calc> exit
```

## 파일 구조

```
main.py          # 진입점 (REPL, 인자 파싱, 연산자 라우팅)
add.py           # 덧셈 연산 모듈
subtract.py      # 뺄셈 연산 모듈
multiply.py      # 곱셈 연산 모듈
divide.py        # 나눗셈 연산 모듈
```

### 각 파일 역할

| 파일 | 역할 |
|------|------|
| `main.py` | 사용자 입력 파싱, 연산자 판별, 해당 모듈 호출, REPL/인자 모드 처리 |
| `add.py` | 덧셈(`+`) 함수 제공 |
| `subtract.py` | 뺄셈(`-`) 함수 제공 |
| `multiply.py` | 곱셈(`*`) 함수 제공 |
| `divide.py` | 나눗셈(`/`) 함수 제공 (0으로 나누기 에러 처리 포함) |

## 구현 태스크

### Phase 1 — 연산 모듈 (병렬 실행 가능)

아래 4개 태스크는 서로 의존성이 없으므로 **동시에 병렬 실행**한다.

| 태스크 | 파일 | 설명 | 의존성 |
|--------|------|------|--------|
| T1 | `add.py` | 덧셈 함수 구현 (음수·소수점 지원) | 없음 |
| T2 | `subtract.py` | 뺄셈 함수 구현 (음수·소수점 지원) | 없음 |
| T3 | `multiply.py` | 곱셈 함수 구현 (음수·소수점 지원) | 없음 |
| T4 | `divide.py` | 나눗셈 함수 구현 (0으로 나누기 에러 처리 포함) | 없음 |

### Phase 2 — 메인 진입점 (Phase 1 완료 후)

| 태스크 | 파일 | 설명 | 의존성 |
|--------|------|------|--------|
| T5 | `main.py` | 입력 파싱, 연산자 라우팅, REPL/인자 모드 구현 | T1, T2, T3, T4 |

### Phase 3 — 테스트 (Phase 2 완료 후)

| 태스크 | 파일 | 설명 | 의존성 |
|--------|------|------|--------|
| T6 | `test_calculator.py` | 전체 기능 테스트 (사칙연산, 에러 처리, 파싱) | T5 |

## 범위 외 (Out of Scope)

- 괄호 연산
- 거듭제곱, 나머지 등 확장 연산
- GUI
- 수식 히스토리 저장
